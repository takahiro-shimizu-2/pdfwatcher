# PageSummary 7世代拡張テストシナリオ

## テストデータの設計方針

8回の判定実行を通じて、以下の動作を確認します：

1. **世代シフトの確認**：新データが実行1に入り、既存データが右にシフト
2. **ページURLの一貫性**：同じページURLで異なるPDF状態を追跡
3. **PDF更新パターン**：追加、削除、更新の各種パターンを検証
4. **8回目での最古データ削除**：7世代を超えたデータが削除されることを確認

## 各実行回のシナリオ

### 実行1（初回）
- 3ページのデータを投入
- 各ページに複数のPDFを設定

### 実行2（世代シフト開始）
- page001: PDFを1つ更新、1つ追加
- page002: PDFを1つ更新、1つ追加
- page003: 変更なし
- page004: 新規ページ追加

### 実行3（複数パターン）
- page001: 変更なし
- page002: 全PDFを更新
- page003: PDFを大幅に削減
- page004: PDFを追加

### 実行4（継続的な変更）
- page001: PDFを1つ追加
- page002: 変更なし
- page003: PDFを追加
- page004: 変更なし
- page005: 新規ページ追加

### 実行5（一部ページの削除）
- page001: 全PDFを削除（ページは残る）
- page002: PDFを1つ追加
- page003: 変更なし
- page004: 変更なし
- page005: PDFを追加

### 実行6（再活性化）
- page001: PDFを新規追加（再活性化）
- page002: 変更なし
- page003: 全PDFを入れ替え
- page004: PDFを追加
- page005: 変更なし

### 実行7（7世代フル）
- page001: PDFを追加
- page002: 変更なし
- page003: PDFを追加
- page004: 変更なし
- page005: 変更なし
- page006: 新規ページ追加

### 実行8（最古データ削除確認）
- page001: 全PDFを入れ替え
- page002: 全PDFを更新、1つ追加
- page003: 変更なし
- page004: 全PDFを入れ替え
- page005: PDFを追加
- page006: PDFを追加
- page007: 新規ページ追加

## 確認ポイント

1. **実行1-7**: 各世代にデータが正しく保存される
2. **実行8**: 
   - 実行1のデータ（初回実行）が削除される
   - 実行2-7のデータが実行2-7の位置にシフト
   - 実行8のデータが実行1の位置に入る

## ページごとの変化追跡

### page001の履歴
1. 実行1: PDF 3個
2. 実行2: PDF 4個（1更新、1追加）
3. 実行3: PDF 4個（変更なし）
4. 実行4: PDF 5個（1追加）
5. 実行5: PDF 0個（全削除）
6. 実行6: PDF 2個（再活性化）
7. 実行7: PDF 3個（1追加）
8. 実行8: PDF 1個（全入れ替え）

### page002の履歴
1. 実行1: PDF 2個
2. 実行2: PDF 3個（1更新、1追加）
3. 実行3: PDF 3個（全更新）
4. 実行4: PDF 3個（変更なし）
5. 実行5: PDF 4個（1追加）
6. 実行6: PDF 4個（変更なし）
7. 実行7: PDF 4個（変更なし）
8. 実行8: PDF 5個（全更新、1追加）